@tailwind base;
@tailwind components;
@tailwind utilities;

body {
  font-family: Arial, Helvetica, sans-serif;
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
}

@layer base {
  :root {
    --background: 220 20% 97%;
    --foreground: 220 20% 10%;
    --card: 0 0% 100%;
    --card-foreground: 220 20% 10%;
    --popover: 0 0% 100%;
    --popover-foreground: 220 20% 10%;
    --primary: 215 80% 48%;
    --primary-foreground: 0 0% 100%;
    --secondary: 220 14% 92%;
    --secondary-foreground: 220 20% 15%;
    --muted: 220 14% 94%;
    --muted-foreground: 220 10% 46%;
    --accent: 215 80% 48%;
    --accent-foreground: 0 0% 100%;
    --destructive: 0 72% 51%;
    --destructive-foreground: 0 0% 98%;
    --border: 220 14% 88%;
    --input: 220 14% 88%;
    --ring: 215 80% 48%;
    --chart-1: 215 80% 48%;
    --chart-2: 160 55% 42%;
    --chart-3: 30 80% 52%;
    --chart-4: 280 55% 55%;
    --chart-5: 340 65% 52%;
    --radius: 0.625rem;
    --sidebar-background: 0 0% 100%;
    --sidebar-foreground: 220 20% 15%;
    --sidebar-primary: 215 80% 48%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 220 14% 95%;
    --sidebar-accent-foreground: 220 20% 15%;
    --sidebar-border: 220 14% 88%;
    --sidebar-ring: 215 80% 48%;
  }
  .dark {
    --background: 222 20% 7%;
    --foreground: 220 14% 92%;
    --card: 222 18% 10%;
    --card-foreground: 220 14% 92%;
    --popover: 222 18% 10%;
    --popover-foreground: 220 14% 92%;
    --primary: 215 80% 55%;
    --primary-foreground: 0 0% 100%;
    --secondary: 222 14% 16%;
    --secondary-foreground: 220 14% 92%;
    --muted: 222 14% 16%;
    --muted-foreground: 220 10% 55%;
    --accent: 215 80% 55%;
    --accent-foreground: 0 0% 100%;
    --destructive: 0 62.8% 45%;
    --destructive-foreground: 0 0% 98%;
    --border: 222 14% 18%;
    --input: 222 14% 18%;
    --ring: 215 80% 55%;
    --chart-1: 215 80% 55%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;
    --sidebar-background: 222 18% 10%;
    --sidebar-foreground: 220 14% 92%;
    --sidebar-primary: 215 80% 55%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 222 14% 16%;
    --sidebar-accent-foreground: 220 14% 92%;
    --sidebar-border: 222 14% 18%;
    --sidebar-ring: 215 80% 55%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* Custom styles for select dropdown */
/* Only apply white text to run groups dropdown */
.select-trigger-custom + [role="listbox"] [data-highlighted],
[data-radix-collection-item][data-highlighted]:has(.space-y-0\.5) {
  color: white !important;
}

.select-trigger-custom + [role="listbox"] [data-highlighted] *,
[data-radix-collection-item][data-highlighted]:has(.space-y-0\.5) * {
  color: white !important;
  opacity: 1 !important;
}

/* Essay dropdown - only essay ID and name white on hover */
.essay-select-item[data-highlighted] .font-mono:not([class*="bg-"]):not([class*="text-"]) {
  color: white !important;
}

.essay-select-item[data-highlighted] .truncate {
  color: white !important;
}

/* Keep ALL badges with their original styling - more specific selectors */
.essay-select-item[data-highlighted] [class*="bg-muted"],
.essay-select-item[data-highlighted] [class*="bg-emerald"],
.essay-select-item[data-highlighted] [class*="bg-amber"],
.essay-select-item[data-highlighted] [class*="bg-red"] {
  background-color: inherit !important;
  color: inherit !important;
}

/* Specific badge color preservation */
.essay-select-item[data-highlighted] .bg-muted {
  background-color: hsl(var(--muted)) !important;
  color: hsl(var(--muted-foreground)) !important;
}

.essay-select-item[data-highlighted] .bg-emerald-100 {
  background-color: rgb(209 250 229) !important;
  color: rgb(4 120 87) !important;
}

.essay-select-item[data-highlighted] .bg-amber-100 {
  background-color: rgb(254 243 199) !important;
  color: rgb(146 64 14) !important;
}

.essay-select-item[data-highlighted] .bg-red-100 {
  background-color: rgb(254 226 226) !important;
  color: rgb(185 28 28) !important;
}

/* Dark mode badge colors */
.dark .essay-select-item[data-highlighted] .dark\:bg-emerald-900\/40 {
  background-color: rgba(6 78 59 / 0.4) !important;
  color: rgb(167 243 208) !important;
}

.dark .essay-select-item[data-highlighted] .dark\:bg-amber-900\/40 {
  background-color: rgba(120 53 15 / 0.4) !important;
  color: rgb(252 211 77) !important;
}

.dark .essay-select-item[data-highlighted] .dark\:bg-red-900\/40 {
  background-color: rgba(127 29 29 / 0.4) !important;
  color: rgb(252 165 165) !important;
}

/* Ensure text color classes are preserved */
.essay-select-item[data-highlighted] .text-emerald-700 {
  color: rgb(4 120 87) !important;
}

.essay-select-item[data-highlighted] .text-amber-700 {
  color: rgb(146 64 14) !important;
}

.essay-select-item[data-highlighted] .text-red-700 {
  color: rgb(185 28 28) !important;
}

.dark .essay-select-item[data-highlighted] .dark\:text-emerald-400 {
  color: rgb(167 243 208) !important;
}

.dark .essay-select-item[data-highlighted] .dark\:text-amber-400 {
  color: rgb(252 211 77) !important;
}

.dark .essay-select-item[data-highlighted] .dark\:text-red-400 {
  color: rgb(252 165 165) !important;
}

/* Fix for select trigger text display */
.select-trigger-custom span {
  display: block !important;
  overflow: visible !important;
  text-overflow: initial !important;
  white-space: normal !important;
  line-height: normal !important;
  -webkit-line-clamp: unset !important;
  line-clamp: unset !important;
}

/* Force essay dropdown to always appear below */
[data-radix-popper-content-wrapper] {
  transform-origin: top !important;
}
